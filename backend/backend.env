# Squadbox Backend Environment Variables
# Database: gdiba2_squadbox
# Server: gdiba2.ssh.tb-hosting.com

# =============================================================================
# BACKEND CORE CONFIGURATION (BE_*)
# =============================================================================

# Backend Service Configuration
BE_HOST=0.0.0.0
BE_PORT=8000
BE_WORKERS=4
BE_RELOAD=true
BE_LOG_LEVEL=INFO
BE_DEBUG=false

# Backend API Configuration
BE_API_PREFIX=/api
BE_API_VERSION=v1
BE_API_TITLE=Squadbox API
BE_API_DESCRIPTION=API for the Squadbox AI Webapp Builder
BE_API_DOCS_URL=/docs
BE_API_REDOC_URL=/redoc

# =============================================================================
# DATABASE CONFIGURATION (BE_DB_*)
# =============================================================================

# PostgreSQL Configuration (Primary Database)
BE_DB_PROVIDER=postgresql
BE_DB_HOST=postgres
BE_DB_PORT=5432
BE_DB_NAME=gdiba2_squadbox
BE_DB_USER=gdiba-2tb-hostingcom
BE_DB_PASSWORD=xuPxu7-buwxaq-kemryf
BE_DB_URL=postgresql://gdiba-2tb-hostingcom:xuPxu7-buwxaq-kemryf@postgres:5432/gdiba2_squadbox

# PostgreSQL Connection Pool
BE_DB_POOL_SIZE=10
BE_DB_MAX_OVERFLOW=20
BE_DB_POOL_TIMEOUT=30
BE_DB_POOL_RECYCLE=3600

# MongoDB Configuration (Fallback/Secondary)
BE_MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/gdiba2_squadbox
BE_MONGODB_DB=gdiba2_squadbox
BE_MONGODB_COLLECTION=squadbox

# =============================================================================
# AUTHENTICATION CONFIGURATION (BE_AUTH_*)
# =============================================================================

# JWT Configuration
BE_AUTH_JWT_SECRET=your-super-secret-jwt-key-here-64-chars-long
BE_AUTH_JWT_128_KEY=your-super-secret-jwt-128-key-here-128-chars-long-for-enhanced-security
BE_AUTH_JWT_EXPIRE_DAYS=7
BE_AUTH_JWT_ALGORITHM=HS256
BE_AUTH_JWT_ISSUER=squadbox-api
BE_AUTH_JWT_AUDIENCE=squadbox-users

# Session Configuration
BE_AUTH_SESSION_TIMEOUT=3600
BE_AUTH_SESSION_RENEWAL=true
BE_AUTH_MAX_SESSIONS_PER_USER=5

# Password Configuration
BE_AUTH_PASSWORD_MIN_LENGTH=8
BE_AUTH_PASSWORD_REQUIRE_UPPERCASE=true
BE_AUTH_PASSWORD_REQUIRE_LOWERCASE=true
BE_AUTH_PASSWORD_REQUIRE_NUMBERS=true
BE_AUTH_PASSWORD_REQUIRE_SYMBOLS=true

# =============================================================================
# LLM/AI CONFIGURATION (BE_LLM_*)
# =============================================================================

# LLM Provider Configuration
BE_LLM_PROVIDER=ollama
BE_LLM_HOST=localhost
BE_LLM_PORT=11434
BE_LLM_MODEL=tinyllama:latest
BE_LLM_TIMEOUT=30
BE_LLM_MAX_TOKENS=4000
BE_LLM_TEMPERATURE=0.2

# OpenAI Configuration (if using OpenAI)
BE_OPENAI_API_KEY=your-openai-api-key-here
BE_OPENAI_MODEL=gpt-4o
BE_OPENAI_MAX_TOKENS=4000
BE_OPENAI_TEMPERATURE=0.2

# Ollama Configuration
BE_OLLAMA_HOST=http://localhost:11434
BE_OLLAMA_MODEL=tinyllama:latest
BE_OLLAMA_ENABLED=true
BE_OLLAMA_TIMEOUT=30

# =============================================================================
# PROJECT GENERATION CONFIGURATION (BE_PROJECT_*)
# =============================================================================

# Project Storage
BE_PROJECT_STORAGE_PATH=/app/generated_projects
BE_PROJECT_MAX_SIZE_MB=100
BE_PROJECT_MAX_FILES=1000
BE_PROJECT_CLEANUP_DAYS=30

# Project Generation
BE_PROJECT_GENERATION_TIMEOUT=300
BE_PROJECT_MAX_CONCURRENT=5
BE_PROJECT_RETRY_ATTEMPTS=3
BE_PROJECT_FALLBACK_ENABLED=true

# File Processing
BE_PROJECT_FILE_MAX_SIZE=10485760  # 10MB
BE_PROJECT_ALLOWED_EXTENSIONS=.html,.css,.js,.json,.md,.txt,.py,.php
BE_PROJECT_COMPRESSION_ENABLED=true

# =============================================================================
# MMRY COMPRESSION CONFIGURATION (BE_MMRY_*)
# =============================================================================

# MMRY Storage
BE_MMRY_STORAGE_PATH=/app/mmry_secure_storage
BE_MMRY_COMPRESSION_RATIO=0.1
BE_MMRY_ENCRYPTION_ENABLED=true
BE_MMRY_RETENTION_DAYS=90

# MMRY Performance
BE_MMRY_MAX_FILE_SIZE=104857600  # 100MB
BE_MMRY_CHUNK_SIZE=8192
BE_MMRY_PARALLEL_WORKERS=4

# =============================================================================
# AGENTIC TEAM CONFIGURATION (BE_AGENT_*)
# =============================================================================

# Agent Configuration
BE_AGENT_TEAM_SIZE=7
BE_AGENT_TASK_TIMEOUT=300
BE_AGENT_MAX_RETRIES=3
BE_AGENT_PARALLEL_EXECUTION=true

# Agent Roles
BE_AGENT_PROJECT_MANAGER_ENABLED=true
BE_AGENT_UI_UX_DESIGNER_ENABLED=true
BE_AGENT_FRONTEND_DEVELOPER_ENABLED=true
BE_AGENT_BACKEND_DEVELOPER_ENABLED=true
BE_AGENT_TESTING_ENGINEER_ENABLED=true
BE_AGENT_DEPLOYMENT_SPECIALIST_ENABLED=true
BE_AGENT_DOCUMENTATION_SPECIALIST_ENABLED=true

# =============================================================================
# SECURITY CONFIGURATION (BE_SECURITY_*)
# =============================================================================

# CORS Configuration
BE_SECURITY_CORS_ORIGINS=https://squadbox.gdiba2.ssh.tb-hosting.com,https://www.squadbox.gdiba2.ssh.tb-hosting.com
BE_SECURITY_CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS
BE_SECURITY_CORS_HEADERS=*
BE_SECURITY_CORS_CREDENTIALS=true

# Rate Limiting
BE_SECURITY_RATE_LIMIT_REQUESTS=100
BE_SECURITY_RATE_LIMIT_WINDOW=60
BE_SECURITY_RATE_LIMIT_BURST=10

# Security Headers
BE_SECURITY_HEADERS_ENABLED=true
BE_SECURITY_HTTPS_REDIRECT=true
BE_SECURITY_HSTS_ENABLED=true
BE_SECURITY_XSS_PROTECTION=true

# =============================================================================
# LOGGING CONFIGURATION (BE_LOG_*)
# =============================================================================

# Logging Levels
BE_LOG_LEVEL=INFO
BE_LOG_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s
BE_LOG_FILE=/app/logs/backend.log
BE_LOG_MAX_SIZE=10485760  # 10MB
BE_LOG_BACKUP_COUNT=5

# Log Categories
BE_LOG_DATABASE_ENABLED=true
BE_LOG_API_ENABLED=true
BE_LOG_AUTH_ENABLED=true
BE_LOG_PROJECT_ENABLED=true
BE_LOG_ERROR_ENABLED=true

# =============================================================================
# MONITORING CONFIGURATION (BE_MONITOR_*)
# =============================================================================

# Health Checks
BE_MONITOR_HEALTH_ENABLED=true
BE_MONITOR_HEALTH_INTERVAL=30
BE_MONITOR_METRICS_ENABLED=true
BE_MONITOR_METRICS_PORT=9090

# Performance Monitoring
BE_MONITOR_PERFORMANCE_ENABLED=true
BE_MONITOR_SLOW_QUERY_THRESHOLD=1000
BE_MONITOR_MEMORY_THRESHOLD=80

# =============================================================================
# CACHE CONFIGURATION (BE_CACHE_*)
# =============================================================================

# Redis Cache (if available)
BE_CACHE_REDIS_HOST=redis
BE_CACHE_REDIS_PORT=6379
BE_CACHE_REDIS_DB=0
BE_CACHE_REDIS_PASSWORD=
BE_CACHE_TTL=3600
BE_CACHE_MAX_SIZE=1000

# =============================================================================
# EMAIL CONFIGURATION (BE_EMAIL_*)
# =============================================================================

# SMTP Configuration
BE_EMAIL_SMTP_HOST=smtp.gmail.com
BE_EMAIL_SMTP_PORT=587
BE_EMAIL_SMTP_USER=your-email@gmail.com
BE_EMAIL_SMTP_PASSWORD=your-app-password
BE_EMAIL_FROM=noreply@squadbox.co.uk
BE_EMAIL_FROM_NAME=Squadbox

# =============================================================================
# NOTIFICATION CONFIGURATION (BE_NOTIFY_*)
# =============================================================================

# Notification Channels
BE_NOTIFY_EMAIL_ENABLED=true
BE_NOTIFY_SMS_ENABLED=false
BE_NOTIFY_PUSH_ENABLED=false
BE_NOTIFY_WEBHOOK_ENABLED=false

# =============================================================================
# DEVELOPMENT CONFIGURATION (BE_DEV_*)
# =============================================================================

# Development Mode
BE_DEV_MODE=false
BE_DEV_DEBUG=false
BE_DEV_RELOAD=true
BE_DEV_PROFILING=false

# Testing
BE_TEST_MODE=false
BE_TEST_DATABASE_URL=postgresql://test:test@localhost:5432/test_squadbox
BE_TEST_CLEANUP=true
